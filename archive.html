---
layout: default
title: Comic Archive
permalink: /archive/
---

<div class="archive-page">
    <h1>Comic Archive</h1>
    
    <div class="archive-controls">
        <input type="text" id="search-box" placeholder="Search comics by title or tags...">
        
        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">All Comics</button>
            {% assign all_episodes = site.comics | map: "episode" | uniq %}
            {% for episode in all_episodes %}
                <button class="filter-btn" data-filter="{{ episode | slugify }}">{{ episode }}</button>
            {% endfor %}
        </div>
    </div>
    
    <div class="archive-grid">
        {% assign sorted_comics = site.comics | where: "published", true | sort: "date" | reverse %}
        {% for comic in sorted_comics %}
        <div class="archive-item" data-episode="{{ comic.episode | slugify }}" data-tags="{{ comic.tags | join: ' ' | slugify }}" data-title="{{ comic.title | slugify }}">
            <a href="{{ comic.url }}">
                <div class="archive-thumbnail">
                    <img src="{{ comic.image }}" alt="{{ comic.title }}" loading="lazy">
                    <div class="archive-overlay">
                        <span class="comic-number">#{{ comic.comic_number }}</span>
                    </div>
                </div>
                <div class="archive-info">
                    <h3>{{ comic.title }}</h3>
                    <p class="archive-date">{{ comic.date | date: "%b %d, %Y" }}</p>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>

<script>
// Simple search and filter functionality
document.addEventListener('DOMContentLoaded', function() {
    const searchBox = document.getElementById('search-box');
    const filterButtons = document.querySelectorAll('.filter-btn');
    const archiveItems = document.querySelectorAll('.archive-item');
    
    let currentFilter = 'all';
    
    // Filter by episode
    filterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            filterButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentFilter = this.dataset.filter;
            applyFilters();
        });
    });
    
    // Search functionality
    searchBox.addEventListener('input', function() {
        applyFilters();
    });
    
    function applyFilters() {
        const searchTerm = searchBox.value.toLowerCase();
        
        archiveItems.forEach(item => {
            const title = item.dataset.title;
            const tags = item.dataset.tags;
            const episode = item.dataset.episode;
            
            const matchesSearch = !searchTerm || title.includes(searchTerm) || tags.includes(searchTerm);
            const matchesFilter = currentFilter === 'all' || episode === currentFilter;
            
            if (matchesSearch && matchesFilter) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    }
});
</script>
